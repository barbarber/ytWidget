<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://lpcdn.lpsnmedia.net/webagent/client-SDK.min.js"></script>
    <script>
        var notificationHandler = function(data) {
            console.log(data);
            // Do something with the notifications
        };
        var focusHandler = function() {
            // Do something when the visitor is focused
            // Assume the visitor is focused to begin with
        };
        var blurHandler = function() {
            // Do something when the visitor is blurred
            // Assume the visitor is focused to begin with
        };
        lpTag.agentSDK.init({
            notificationCallback: notificationHandler,
            visitorFocusedCallback: focusHandler,
            visitorBlurredCallback: blurHandler
        });


        var updateCallback = function(data) {
            // Do something with the returning data
            debugger;
            var path = data.key;
            var value = data.newValue;
            // called each time the value is updated.
            // If there's an existing value when bind is called - this callback
            // will be called with the existing value
        };

        var notifyWhenDone = function(err) {
            if (err) {
                // Do something with the error
            }
            // called when the bind is completed successfully,
            // or when the action terminated with an error.
        };

        var pathToData = "visitorInfo";
        lpTag.agentSDK.bind(pathToData, updateCallback, notifyWhenDone);




    </script>
    <title></title>
</head>
<body>

</body>
</html>